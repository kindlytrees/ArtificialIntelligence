# 实验环境搭建
- 系统运行环境：Linux或WSL，在WSL下，如ubunt20.04/22.04
- WSL
    - vscode安装cmake插件
- 参考代码：https://github.com/gaoxiang12/slambook2
- 代码克隆步骤
    - git clone --recurse-submodules https://github.com/gaoxiang12/slambook2.git

## 核心第三方库
- Sophus、李群李代数的第三方开源开发库，可以实现
    - 指数映射，将李代数向量映射回李群元素（一个小的变换）
    - 对数映射，将一个李群元素（一个小的变换）映射到其对应的李代数向量
- Pangolin
    - 可视化库

## 依赖库安装
- opgengl:图形渲染
```
sudo apt update
sudo apt install mesa-common-dev libglu1-mesa-dev
```
- python3-dev
配置正确的python环境
在~/.bashrc中配置alias python=pythoh3
安装python3-dev

- eigen库，用于矩阵计算
```
sudo apt install libeigen3-dev
```
- pagolin库的安装
pagolin库的安装直接在3rdparty中，直接通过源码编译按照如下的步骤：

```
sudo apt-get install libepoxy-dev
cd Pangolin
mkdir build
cd build
cmake ..
cmake --build .
sudo make install
```
- Sophus库，用于
源代码在代码仓的根目录3rdparty目录下
CMakeLists.txt文件做如下的修改, 将编译选项去掉：-Werror

```
# Set compiler specific settings (FixMe: Should not cmake do this for us automatically?)
IF("${CMAKE_CXX_COMPILER_ID}" STREQUAL "Clang")
   SET(CMAKE_CXX_FLAGS_DEBUG  "-O0 -g")
   SET(CMAKE_CXX_FLAGS_RELEASE "-O3")
   SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Werror -Wextra -Wno-deprecated-register -Wno-deprecated-register -Qunused-arguments -fcolor-diagnostics")
ELSEIF("${CMAKE_CXX_COMPILER_ID}" STREQUAL "GNU")
   SET(CMAKE_CXX_FLAGS_DEBUG  "-O0 -g")
   SET(CMAKE_CXX_FLAGS_RELEASE "-O3")
   SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Werror -Wextra -std=c++11 -Wno-deprecated-declarations -ftemplate-backtrace-limit=0")
   SET(CMAKE_CXX_FLAGS_COVERAGE "${CMAKE_CXX_FLAGS_DEBUG} --coverage -fno-inline -fno-inline-small-functions -fno-default-inline")
   SET(CMAKE_EXE_LINKER_FLAGS_COVERAGE "${CMAKE_EXE_LINKER_FLAGS_DEBUG} --coverage")
   SET(CMAKE_SHARED_LINKER_FLAGS_COVERAGE "${CMAKE_SHARED_LINKER_FLAGS_DEBUG} --coverage")
ELSEIF(CMAKE_CXX_COMPILER_ID MATCHES "^MSVC$")
   ADD_DEFINITIONS("-D _USE_MATH_DEFINES /bigobj /wd4305 /wd4244 /MP")
ENDIF()
```
--->

```
# Set compiler specific settings (FixMe: Should not cmake do this for us automatically?)
IF("${CMAKE_CXX_COMPILER_ID}" STREQUAL "Clang")
   SET(CMAKE_CXX_FLAGS_DEBUG  "-O0 -g")
   SET(CMAKE_CXX_FLAGS_RELEASE "-O3")
   SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Wextra -Wno-deprecated-register -Wno-deprecated-register -Qunused-arguments -fcolor-diagnostics")
ELSEIF("${CMAKE_CXX_COMPILER_ID}" STREQUAL "GNU")
   SET(CMAKE_CXX_FLAGS_DEBUG  "-O0 -g")
   SET(CMAKE_CXX_FLAGS_RELEASE "-O3")
   SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Wextra -std=c++11 -Wno-deprecated-declarations -ftemplate-backtrace-limit=0")
   SET(CMAKE_CXX_FLAGS_COVERAGE "${CMAKE_CXX_FLAGS_DEBUG} --coverage -fno-inline -fno-inline-small-functions -fno-default-inline")
   SET(CMAKE_EXE_LINKER_FLAGS_COVERAGE "${CMAKE_EXE_LINKER_FLAGS_DEBUG} --coverage")
   SET(CMAKE_SHARED_LINKER_FLAGS_COVERAGE "${CMAKE_SHARED_LINKER_FLAGS_DEBUG} --coverage")
ELSEIF(CMAKE_CXX_COMPILER_ID MATCHES "^MSVC$")
   ADD_DEFINITIONS("-D _USE_MATH_DEFINES /bigobj /wd4305 /wd4244 /MP")
ENDIF()
```

```
mkdir build 
cd build && cmake ..
make -j16
sudo make install
```

- opencv的安装
```
sudo apt install libopencv-dev python3-opencv
```

- boost安装
```
sudo apt install libboost-all-dev
```

- Ceres安装(待定，有可能只需要通过apt-get安装，sudo apt-get install libceres-dev)
源代码在代码仓的根目录3rdparty目录下
cd ceres-solver
```
sudo apt install libsuitesparse-dev libblas-dev liblapack-dev
sudo apt install libgoogle-glog-dev
mkdir build1 && cd build1
cmake -DENABLE_TBB=OFF -DSUITESPARSE_USE_TBB=OFF ..
make -j16
sudo make install
```

- g2o库的安装
源代码在根目录
```
sudo apt install qt5-default
mkdir build && cd build
cmake ..
make -j16
sudo make install
```

## 附加资源
- wget https://github.com/opencv/opencv/archive/2.4.13.6.tar.gz -O 2.4.13.6.tar.gz
